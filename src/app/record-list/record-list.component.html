<app-record-form (recordCreate)="createRecord($event)"></app-record-form>


<button class="btn btn-primary mb-3" (click)="loadRecords()">Load Records</button>

<div class="list-section records-container" *ngIf="records.length">
  <div class="record-card" *ngFor="let record of records; trackBy: trackById">
    <div class="card-body">
      <div *ngIf="editingId !== record.id; else editMode">
        <h5 class="card-title">{{ record.title }}</h5>
        <p class="card-text">{{ record.text }}</p>
        <button
          class="btn btn-warning btn-sm"
          *ngIf="record.id !== undefined"
          (click)="startEditing(record.id!)"
        >
          Edit
        </button>
        <button
          class="btn btn-danger btn-sm"
          *ngIf="record.id !== undefined"
          (click)="deleteRecord(record.id!)"
        >
          Delete
        </button>
      </div>
      <ng-template #editMode>
        <input
          type="text"
          class="form-control mb-2"
          [(ngModel)]="record.title"
          placeholder="Title"
          required
        >
        <input
          type="text"
          class="form-control mb-2"
          [(ngModel)]="record.text"
          placeholder="Description"
          required
        >
        <button class="btn btn-success btn-sm" (click)="saveRecord(record)">Save</button>
        <button class="btn btn-secondary btn-sm" (click)="cancelEditing()">Cancel</button>
      </ng-template>
    </div>
  </div>
</div>